knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
knitr::opts_chunk$set(echo = TRUE)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
read_csv("data/kings.csv")
# FILL IN THE CODE BELOW and review the outputs
kings1 <- read.csv("data/kings.csv")
kings2 <- read_csv("data/kings.csv")
kings3 <- read.csv2("data/kings.csv")
kings4 <- read_csv2( "data/kings.csv")
class(kings1)
class(kings2)
class(kings3)
class(kings4)
glimpse(kings1)
glimpse(kings2)
kings2 <- read_csv("data/kings.csv", na = "NULL")
glimpse(kings2)
glimpse(kings4)
glimpse(kings3)
kings <- kings1
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
ncol(kings1)
ncol(kings2)
ncol(kings3)
ncol(kings4)
kings <- kings2
# YOUR CODE
kings_clean <- kings %>%
filter(!is.na(Start_year) & !is.na(End_year)) %>%
mutate(
Start_year = as.numeric(Start_year),
End_year = as.numeric(End_year),
Duration = End_year - Start_year
)
glimpse(kings_clean)
# YOUR CODE
mean <-  mean(kings_clean$Duration)
filter(kings_clean, Duration > mean)
kings %>%
ggplot( aes(x = midyear, y = duration))
kings %>%
ggplot( aes(x = midyear, y = duration))+
geom_point()+
geom_smooth()+
theme_bw()
# YOUR CODE
kings_clean <- kings %>%
filter(!is.na(Start_year) & !is.na(End_year)) %>%
mutate(
Start_year = as.numeric(Start_year),
End_year = as.numeric(End_year),
Duration = End_year - Start_year
) %>% mutate(midyear = Start_year + Duration/2)
kings %>%
ggplot( aes(x = midyear, y = duration))+
geom_point()+
geom_smooth()+
theme_bw()
kings %>%
ggplot( aes(x = midyear, y = Duration))+
geom_point()+
geom_smooth()+
theme_bw()
View(kings)
kings_clean %>%
ggplot( aes(x = midyear, y = Duration))+
geom_point()+
geom_smooth()+
theme_bw()
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
kings2 <- read_csv("data/kings.csv", na = "NULL")
kings <- kings2
# YOUR CODE
kings_clean <- kings %>%
filter(!is.na(Start_year) & !is.na(End_year)) %>%
mutate(
Start_year = as.numeric(Start_year),
End_year = as.numeric(End_year),
Duration = End_year - Start_year
) %>% mutate(midyear = Start_year + Duration/2)
glimpse(kings_clean)
# YOUR CODE
mean <-  mean(kings_clean$Duration)
print(mean)
kings_longer_than_average <- kings_clean %>%
filter(Duration > mean)
print(kings_longer_than_average)
count(kings_longer_than_average)
print(Duration)
view(kings_longer_than_average)
kings_longer_than_average <- kings_clean %>%
filter(Duration > mean)
print(kings_longer_than_average)
count(kings_longer_than_average)
# # Trin 1: Sorter kongerne efter længde af regentperiode i faldende rækkefølge
kings_sorted <- kings_clean %>%
arrange(desc(Duration))
glimpse(kings_sorted)
# Trin 2: Vælg de tre længst regerende monarker
top_three_kings <- kings_sorted %>%
slice(1:3)
print(top_three_kings)
print(kings_longer_than_average)
# Beregn antallet af dage, de tre længst regerende monarker har regeret
top_three_kings_days <- top_three_kings %>%
mutate(Days = as.integer(difftime(as.Date(paste(End_year, "-12-31", sep="")),
as.Date(paste(Start_year, "-01-01", sep="")), units="days")))
print(top_three_kings_days)
print(top_three_kings_days)
print(Days)
print(top_three_kings_days)
select(Days)
head(top_three_kings_days)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
kings2 <- read_csv("data/kings.csv", na = "NULL")
kings <- kings2
# FILL IN THE CODE BELOW and review the outputs
kings1 <- read.csv("data/kings.csv")
kings2 <- read_csv("data/kings.csv", na = "NULL")
kings3 <- read.csv2("data/kings.csv")
kings4 <- read_csv2( "data/kings.csv")
class(kings1)
class(kings2)
class(kings3)
class(kings4)
ncol(kings1)
ncol(kings2)
ncol(kings3)
ncol(kings4)
glimpse(kings1)
glimpse(kings2)
glimpse(kings3)
glimpse(kings4)
# YOUR CODE
kings_clean <- kings %>%
filter(!is.na(Start_year) & !is.na(End_year)) %>%
mutate(
Start_year = as.numeric(Start_year),
End_year = as.numeric(End_year),
Duration = End_year - Start_year
) %>% mutate(midyear = Start_year + Duration/2)
glimpse(kings_clean)
# YOUR CODE
mean <-  mean(kings_clean$Duration)
print(mean)
kings_longer_than_average <- kings_clean %>%
filter(Duration > mean)
print(kings_longer_than_average)
count(kings_longer_than_average)
# Sorter kongerne efter længde af regentperiode i faldende rækkefølge
kings_sorted <- kings_clean %>%
arrange(desc(Duration))
glimpse(kings_sorted)
# Vælg de tre længst regerende monarker
top_three_kings <- kings_sorted %>%
slice(1:3)
print(top_three_kings)
# Beregn antallet af dage, de tre længst regerende monarker har regeret
top_three_kings_days <- top_three_kings %>%
mutate(Days = as.integer(difftime(as.Date(paste(End_year, "-12-31", sep="")),
as.Date(paste(Start_year, "-01-01", sep="")), units="days")))
print(top_three_kings_days)
head(top_three_kings_days)
glimpse(kings1)
# Sorter kongerne efter længde af regentperiode i faldende rækkefølge
library(dplyr)
ggtitle("Kings' Duration of Reign Over Time")
kings_clean %>%
ggplot( aes(x = midyear, y = Duration))+
geom_point()+
geom_smooth()+
theme_bw() %>%
ggtitle("Kings' Duration of Reign Over Time")
kings_clean %>%
ggplot( aes(x = midyear, y = Duration))+
geom_point()+
geom_smooth()+
theme_bw()+
ggtitle("Kings' Duration of Reign Over Time")
kings_clean %>%
ggplot( aes(x = midyear, y = Duration))+
geom_point()+
geom_smooth()+
theme_bw()+
ggtitle("Kings' Duration of Reign Over Time")+
labs(x = "Year", y = "Duration of Reign (years)")
print(top_three_kings_days)
glimpse(kings1)
glimpse(kings2)
glimpse(kings4)
glimpse(kings2)
library(tidyverse)
read_csv("data/kings.csv")
# FILL IN THE CODE BELOW and review the outputs
kings1 <- read.csv("data/kings.csv")
kings2 <- read_csv("data/kings.csv", na = "NULL")
kings3 <- read.csv2("data/kings.csv")
kings4 <- read_csv2( "data/kings.csv")
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
read_csv("data/kings.csv")
# FILL IN THE CODE BELOW and review the outputs
kings1 <- read.csv("data/kings.csv")
kings2 <- read_csv("data/kings.csv", na = "NULL")
kings3 <- read.csv2("data/kings.csv")
kings4 <- read_csv2( "data/kings.csv")
# COMPLETE THE BLANKS BELOW WITH YOUR CODE, then turn the 'eval' flag in this chunk to TRUE.
kings <- kings2
class(kings1)
class(kings2)
class(kings3)
class(kings4)
ncol(kings1)
ncol(kings2)
ncol(kings3)
ncol(kings4)
glimpse(kings1)
glimpse(kings2)
glimpse(kings3)
glimpse(kings4)
# Calculate the duration of reign for all the kings in the table
kings_clean <- kings %>%
filter(!is.na(Start_year) & !is.na(End_year)) %>%
mutate(
Start_year = as.numeric(Start_year),
End_year = as.numeric(End_year),
Duration = End_year - Start_year
) %>% mutate(midyear = Start_year + Duration/2)
glimpse(kings_clean)
# Calculate the average duration of reign for all rulers
mean <-  mean(kings_clean$Duration)
print(mean)
# # How many and which kings enjoyed a longer-than-average duration of reign?
kings_longer_than_average <- kings_clean %>%
filter(Duration > mean)
print(kings_longer_than_average)
count(kings_longer_than_average)
# Sorter kongerne efter længde af regentperiode i faldende rækkefølge
kings_sorted <- kings_clean %>%
arrange(desc(Duration))
glimpse(kings_sorted)
# Vælg de tre længst regerende monarker
top_three_kings <- kings_sorted %>%
slice(1:3)
print(top_three_kings)
# Beregn antallet af dage, de tre længst regerende monarker har regeret
top_three_kings_days <- top_three_kings %>%
mutate(Days = as.integer(difftime(as.Date(paste(End_year, "-12-31", sep="")),
as.Date(paste(Start_year, "-01-01", sep="")), units="days")))
print(top_three_kings_days)
head(top_three_kings_days)
# Plot the kings' duration of reign through time
kings_clean %>%
ggplot( aes(x = midyear, y = Duration))+
geom_point()+
geom_smooth()+
theme_bw()+
ggtitle("Kings' Duration of Reign Over Time")+
labs(x = "Year", y = "Duration of Reign (years)")
knitr::opts_chunk$set(echo = TRUE,
warning = FALSE)
top_three_kings
top_three_kings_days %>%
select(Name, Days, year)
top_three_kings_days %>%
select(Name, Days, Start_year, End_year)
top_three_kings_days %>%
select(Name, Days)
